create table Customers (
  customer_id integer primary key,
  name varchar(50) not null,
  phone varchar(50) not null,
  email varchar(50)
);

create table Employee (
  employee_id INTEGER primary key,
  name varchar(50) not null,
  role varchar(50) not null,
  salary float check (salary > 0)
);

create table Category (
  category_id INTEGER primary key,
  category_name varchar(50) not null
);

create table Menu (
  menu_id INTEGER primary key,
  name varchar(50) not null,
  price float not null check (price > 0),
  category_id INTEGER not null,
  foreign KEY (category_id) references Category (category_id) on delete CASCADE on update CASCADE
);

create table Orders (
  order_id INTEGER primary key,
  order_date DATE default CURRENT_DATE,
  customer_id INTEGER not null,
  employee_id INTEGER not null,
  foreign KEY (customer_id) references Customer (customer_id) on delete CASCADE on update CASCADE,
  foreign KEY (employee_id) references Employee (employee_id) on delete set null on update CASCADE
);

create table Order_Details (
  order_detail_id INTEGER primary key,
  order_id INTEGER not null,
  menu_id INTEGER not null,
  quantity INTEGER not null check (quantity > 0),
  foreign KEY (order_id) references Orders (order_id) on delete CASCADE on update CASCADE,
  foreign KEY (menu_id) references Menu (menu_id) on delete CASCADE on update CASCADE
);

create table Payment (
  payment_id INTEGER primary key,
  order_id INTEGER not null,
  payment_date DATE default CURRENT_DATE,
  amount REAL not null check (amount >= 0),
  payment_method TEXT not null,
  foreign KEY (order_id) references Orders (order_id) on delete CASCADE on update CASCADE
);
